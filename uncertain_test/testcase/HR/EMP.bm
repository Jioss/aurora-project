<model xmlns="http://www.aurora-framework.org/schema/businessmodel" baseTable="EMP" alias="e">
	<primary-key-generator type="sequence" />	
	<fields>
		<field name="empno" datatype="long" databaseType="BIGINT" insertExpression="EMP_S.nextval" />
		<field name="ename" datatype="string" databaseType="VARCHAR" />		
		<field name="job" datatype="string" databaseType="BIGINT" />
		<field name="mgr" datatype="long" databaseType="BIGINT" />
		<field name="hiredate" datatype="date" databaseType="DATE" />
		<field name="deptno" datatype="long" databaseType="BIGINT" />
		<field name="sal" datatype="long" databaseType="FLOAT" />
		<field name="comm" datatype="long" databaseType="FLOAT" />
		<field name="creation_date" datatype="date" databaseType="DATE" updateExpression="sysdate" insertExpression="sysdate" />
		<field name="NOW_DATE" datatype="date" expression="sysdate" databaseType="DATE" forInsert="false"/>
		<ref-field name="dname" sourceField="dname" sourceModel="testcase.HR.DEPT" />
		<ref-field name="mgr_name" sourceField="ename" relationName="MGR" />
	</fields>
	
	<primary-key>
		<field name="empno" sequenceName="EMP_S" />
	</primary-key>
	
	<relations>
		<relation joinType="INNER" refModel="testcase.HR.DEPT" >
			<reference localField="DEPTNO" foreignField="DEPTNO"/>
		</relation>
		<relation name="MGR" joinType="LEFT OUTER" refModel="testcase.HR.EMP" refAlias="M1">
			<reference localField="MGR" foreignField="EMPNO"/>
			<reference expression="M1.DEPTNO is not null" />			
		</relation>
	</relations>

	<query-fields>
		<query-field field="ename" queryOperator="like" matchMode="full" />
		<query-field field="deptno" queryOperator="=" />		
		<query-field field="mgr" queryExpression="exists (select * from emp t1 where t1.mgr=e.mgr)" />
		<!--
		<query-field field="mgr_name" queryOperator="=" />		
		-->
	</query-fields>
		
	<data-filters>
		<data-filter name="MustInDepartment" enforceActions="query" 
					 expression="e.deptno is not null" />
		<data-filter expression="e.creation_date is not null" />
	</data-filters>
	
	<order-by>
		<field name="DNAME" />
		<field name="hiredate" order="desc" />
	</order-by>
	<!--
	<features>
		<fnd:multi-language xmlns:fnd="http://aurora-framework.org/features/fnd" promptTable="EMP_TL">
			<fields>
				<field name="DESCRIPTION" />
			</fields>
		</fnd:multi-language>
		
	</features>
	-->
</model>